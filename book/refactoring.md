# Refactoring2

书籍获取：[book](https://book-refactoring2.ifmicro.com)

## 1, 第一个示例
 ### 重构步骤
 - 通读全文，理解大致内容
 - 嗅出代码中坏味道
 - 确定测试用例
 - 利用重构手法重构代码
 - 测试

## 2, 重构原则
 - 重构的关键在于运用大量微小且保持软件行为的步骤，一步步达成大规模的修改。
 - 重构必须和添加功能代码分开
 - 重构的好处
   - 重构改进软件的设计
   - 重构使软件更容易理解
   - 重构帮助找到 bug
   - 重构提高编程速度
 - 事不过三，三则重构

## 3, 24个坏味道
| 坏味道          | 描述        |
| :----------     | :---------- |
| 神秘命名        | 函数模块变量和类命名，不能清晰地表明功能和用法|
| 重复代码        | 一个以上的地点看到相同的代码结构|
| 过长函数        | 函数越长，就越难理解|
| 过长参数列表    | 过长的参数列表令人迷惑，使用类或参数对象替换参数列表|
| 全局数据        | 从代码库的任何一个角落都可以修改的数据，且难于调试|
| 可变数据	      | 对数据的修改经常导致出乎意料的结果和难以发现的 bug|
| 发散式变化      | 模块经常因为不同的原因在不同的方向上发生变化|
| 霰弹式修改      | 遇到某种变化，你都必须在许多不同的类内做出许多小修改|
| 依恋情结        | 一个函数跟另一个模块中的函数或者数据交流格外频繁，远胜于在自己所处模块内部的交流|
| 数据泥团        | 很多地方看到相同的三四项数据，应该拥有属于它们的对象|
| 基本类型偏执    | 对象取代基本类型|
| 重复的switch    | 在不同的地方反复使用同样的switch 逻辑, 用多态替换|
| 循环语句        | |
| 冗赘的元素      | |
| 夸夸其谈通用性  | |
| 临时字段        | |
| 过长的消息链    | |
| 中间人          | |
| 内幕交易        | |
| 过大的类        | |
| 异曲同工的类    | |
| 纯数据类        | |
| 被拒绝的遗赠    | |
| 注释            | |

## 4, 测试体系
## 5, 重构名录
## 6, 第一组重构
## 7, 封装
## 8, 搬移特性
## 9, 重新组织数据
## 10, 简化条件逻辑
## 11, 重构API
## 12, 处理继承关系
